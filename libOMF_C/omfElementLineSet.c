/**************************************************************************************************
file:       OmfElemLineSet
author:     Robbert de Groot
copyright:  2022, Robbert de Groot

description:
Line set element 
**************************************************************************************************/

/**************************************************************************************************
include:
**************************************************************************************************/
#include "pch.h"

/**************************************************************************************************
local:
constant:
**************************************************************************************************/

/**************************************************************************************************
type:
**************************************************************************************************/

/**************************************************************************************************
variable:
**************************************************************************************************/

/**************************************************************************************************
prototype:
**************************************************************************************************/

/**************************************************************************************************
global:
function:
**************************************************************************************************/
/**************************************************************************************************
func: _OmfElemLineSetCreate
**************************************************************************************************/
OmfElemLineSet *_OmfElemLineSetCreate(void)
{
   OmfElemLineSet *elem;

   elem = _OmfMemCreateType(OmfElemLineSet);
   returnNullIf(!elem);

   if (!_OmfElemLineSetCreateContent(elem))
   {
      _OmfMemDestroy(elem);
      return NULL;
   }

   return elem;
}

/**************************************************************************************************
func: _OmfElemLineSetCreateContent
**************************************************************************************************/
OmfBool _OmfElemLineSetCreateContent(OmfElemLineSet * const elem)
{
   _OmfMemClearType(OmfElemLineSet, elem);
   elem->typeElem    = omfElemTypeLINE_SET;
   elem->typeElemSub = omfElemSubTypeLINE_SET_LINE_DEFAULT;

   return omfTRUE;
}

/**************************************************************************************************
func: _OmfElemLineSetDestroyContent
**************************************************************************************************/
void _OmfElemLineSetDestroyContent(OmfElemLineSet * const elem)
{
   returnVoidIf(!elem);

   omfObjDestroyObj(elem->geometry);

   return;
}

/**************************************************************************************************
func: omfElemLineSetGetGeometry
**************************************************************************************************/
OmfGeom *omfElemLineSetGetGeometry(OmfElemLineSet const * const elem)
{
   returnNullIf(
      !omfIsStarted() ||
      !elem);

   return (OmfGeom *) elem->geometry;
}

/**************************************************************************************************
func: omfElemLineSetSetGeometry
**************************************************************************************************/
OmfBool omfElemLineSetSetGeometry(OmfElemLineSet * const elem, 
   OmfGeomLineSet * const value)
{
   returnFalseIf(
      !omfIsStarted() ||
      !elem);

   elem->geometry = value;

   return omfTRUE;
}
